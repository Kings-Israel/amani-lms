import{X as ae,bv as te,aw as ne,bw as oe,be as ue,K as se,M as B,bK as K,k as u,P as re,bz as ie,bA as de,bB as ce,p as e,bC as me,R as $,F as L,bE as fe,bF as G,aE as W,d as pe,o as ve,c as Ve,w as s,bh as be,bt as ye,q as o,bo as m,bL as ge,bl as E,bm as d,z as ke,bk as Ce,m as D}from"./main.cad6ac3f.js";import{V as Se,r as V}from"./validators.385db1c5.js";import{a as Ie,V as M}from"./VTextField.6ab6d276.js";import{V as w}from"./VSelect.5ef069f5.js";import{f as _e}from"./VDivider.c04ee9aa.js";import{V as Be}from"./VChip.aff1fc4b.js";import{V as Fe}from"./VBtn.a52c8ee1.js";import"./VList.319559ef.js";import"./scopeId.6c05b8dd.js";import"./VMenu.3e23c506.js";import"./VCheckboxBtn.546c055a.js";const j=ae({name:"VFileInput",inheritAttrs:!1,props:{chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,hint:String,persistentHint:Boolean,placeholder:String,showSize:{type:[Boolean,Number],default:!1,validator:l=>typeof l=="boolean"||[1e3,1024].includes(l)},...te({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:l=>ne(l).every(C=>C!=null&&typeof C=="object")},...oe({clearable:!0})},emits:{"click:control":l=>!0,"update:modelValue":l=>!0},setup(l,C){let{attrs:F,emit:S,slots:i}=C;const{t:I}=ue(),r=se(l,"modelValue"),b=B(()=>typeof l.showSize!="boolean"?l.showSize:void 0),y=B(()=>{var n;return((n=r.value)!=null?n:[]).reduce((a,t)=>{let{size:v=0}=t;return a+v},0)}),g=B(()=>K(y.value,b.value)),f=B(()=>{var n;return((n=r.value)!=null?n:[]).map(a=>{const{name:t="",size:v=0}=a;return l.showSize?`${t} (${K(v,b.value)})`:t})}),_=B(()=>{var t;var n;const a=(t=(n=r.value)==null?void 0:n.length)!=null?t:0;return l.showSize?I(l.counterSizeString,a,g.value):I(l.counterString,a)}),z=u(),R=u(),p=u(!1),c=u(),N=B(()=>l.messages.length?l.messages:l.persistentHint?l.hint:"");function P(){if(c.value!==document.activeElement){var n;(n=c.value)==null||n.focus()}p.value||(p.value=!0)}function T(n){G(l["onClick:prepend"],n),x(n)}function x(n){var a;(a=c.value)==null||a.click(),S("click:control",n)}function U(n){n.stopPropagation(),P(),W(()=>{r.value=[],c!=null&&c.value&&(c.value.value=""),G(l["onClick:clear"],n)})}return re(()=>{const n=!!(i.counter||l.counter),a=!!(n||i.details),[t,v]=ie(F),[{modelValue:ze,...X}]=de(l),[J]=ce(l);return e(fe,$({ref:z,modelValue:r.value,"onUpdate:modelValue":h=>r.value=h,class:"v-file-input","onClick:prepend":T,"onClick:append":l["onClick:append"]},t,X,{focused:p.value,messages:N.value}),{...i,default:h=>{let{isDisabled:A,isDirty:q,isReadonly:O,isValid:Q}=h;return e(me,$({ref:R,"prepend-icon":l.prependIcon,"onClick:control":x,"onClick:clear":U,"onClick:prependInner":l["onClick:prependInner"],"onClick:appendInner":l["onClick:appendInner"]},J,{active:q.value||p.value,dirty:q.value,focused:p.value,error:Q.value===!1}),{...i,default:Y=>{let{props:{class:Z,...ee}}=Y;return e(L,null,[e("input",$({ref:c,type:"file",readonly:O.value,disabled:A.value,multiple:l.multiple,name:l.name,onClick:k=>{k.stopPropagation(),P()},onChange:k=>{var H;if(!k.target)return;const le=k.target;r.value=[...(H=le.files)!=null?H:[]]},onFocus:P,onBlur:()=>p.value=!1},ee,v),null),e("div",{class:Z},[r.value.length>0&&(i.selection?i.selection({fileNames:f.value,totalBytes:y.value,totalBytesReadable:g.value}):l.chips?f.value.map(k=>e(Be,{key:k,size:"small",color:l.color},{default:()=>[k]})):f.value.join(", "))])])}})},details:a?h=>{var A;return e(L,null,[(A=i.details)==null?void 0:A.call(i,h),n&&e(L,null,[e("span",null,null),e(Ie,{active:!!r.value.length,value:_.value},i.counter)])])}:void 0})}),_e({},z,R,c)}}),Pe=D("div",{class:"d-flex align-center pb-1"},[D("h4",{class:"text-h4"}," Add Loan ")],-1),he=D("h6",{class:"text-h6 mb-3"}," Borrower ",-1),we=D("h6",{class:"text-h6 my-6"}," Loan Details ",-1),je=pe({__name:"add-loan",emits:["loanData"],setup(l,{emit:C}){const F=u(!1),S=u(),i=u(""),I=u(""),r=u(""),b=u(""),y=u(0),g=u(0),f=u(""),_=u(""),z=u(""),R=u(""),p=u(""),c=u(["Loan Product 1","Loan Product 2"]),N=u(["Daily","Weekly"]),P=u(["5000","8000","10000","20000"]),T=u(["Start Business","Business Expense"]),x=u(["Tailoring","Beauty","Photography","Cleaning Services","Barber Shop","Legal Services"]),U=()=>{var n;(n=S.value)==null||n.validate().then(({valid:a})=>{a&&(C("loanData",{product:r.value,repaymentType:b.value,negotiatedInstallments:y.value,loanAmount:g.value,loanPurpose:f.value,businessType:_.value,idFront:z.value,idBack:R.value,guarantorId:p.value}),W(()=>{var t,v;(t=S.value)==null||t.reset(),(v=S.value)==null||v.resetValidation()}))})};return(n,a)=>(ve(),Ve("div",null,[Pe,e(o(Ce),{options:{wheelPropagation:!1}},{default:s(()=>[e(be,{flat:""},{default:s(()=>[e(ye,null,{default:s(()=>[e(Se,{ref_key:"refForm",ref:S,modelValue:o(F),"onUpdate:modelValue":a[8]||(a[8]=t=>m(F)?F.value=t:null),onSubmit:ge(U,["prevent"])},{default:s(()=>[he,e(E,null,{default:s(()=>[e(d,{cols:"3"},{default:s(()=>[e(M,{modelValue:o(i),"onUpdate:modelValue":a[0]||(a[0]=t=>m(i)?i.value=t:null),rules:[o(V)],label:"Full Name"},null,8,["modelValue","rules"])]),_:1}),e(d,{cols:"3"},{default:s(()=>[e(M,{modelValue:o(I),"onUpdate:modelValue":a[1]||(a[1]=t=>m(I)?I.value=t:null),rules:[o(V)],label:"ID Number"},null,8,["modelValue","rules"])]),_:1})]),_:1}),we,e(E,null,{default:s(()=>[e(d,{cols:"3"},{default:s(()=>[e(w,{modelValue:o(r),"onUpdate:modelValue":a[2]||(a[2]=t=>m(r)?r.value=t:null),rules:[o(V)],label:"Product",items:o(c)},null,8,["modelValue","rules","items"])]),_:1}),e(d,{cols:"3"},{default:s(()=>[e(w,{modelValue:o(b),"onUpdate:modelValue":a[3]||(a[3]=t=>m(b)?b.value=t:null),label:"Repayment Type",rules:[o(V)],items:o(N)},null,8,["modelValue","rules","items"])]),_:1}),e(d,{cols:"3"},{default:s(()=>[e(M,{modelValue:o(y),"onUpdate:modelValue":a[4]||(a[4]=t=>m(y)?y.value=t:null),label:"Negotiated Installments",rules:[o(V)]},null,8,["modelValue","rules"])]),_:1}),e(d,{cols:"3"},{default:s(()=>[e(w,{modelValue:o(g),"onUpdate:modelValue":a[5]||(a[5]=t=>m(g)?g.value=t:null),label:"Amount",rules:[o(V)],items:o(P)},null,8,["modelValue","rules","items"])]),_:1}),e(d,{cols:"3"},{default:s(()=>[e(w,{modelValue:o(f),"onUpdate:modelValue":a[6]||(a[6]=t=>m(f)?f.value=t:null),label:"Purpose",rules:[o(V)],items:o(T)},null,8,["modelValue","rules","items"])]),_:1}),e(d,{cols:"3"},{default:s(()=>[e(w,{modelValue:o(_),"onUpdate:modelValue":a[7]||(a[7]=t=>m(_)?_.value=t:null),label:"Business Type",rules:[o(V)],items:o(x)},null,8,["modelValue","rules","items"])]),_:1}),e(d,{cols:"6"}),e(d,{cols:"3"},{default:s(()=>[e(j,{accept:"image/*",label:"ID Front"})]),_:1}),e(d,{cols:"3"},{default:s(()=>[e(j,{accept:"image/*",label:"ID Back"})]),_:1}),e(d,{cols:"3"},{default:s(()=>[e(j,{accept:"image/*",label:"Guarantor ID"})]),_:1})]),_:1}),e(E,null,{default:s(()=>[e(d,{cols:"12"},{default:s(()=>[e(Fe,{type:"submit",class:"me-3"},{default:s(()=>[ke(" Submit ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1})]))}});export{je as default};
